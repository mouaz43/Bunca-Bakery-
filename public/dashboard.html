<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>üçû Bunca Bakery - Automated Dashboard</title>
  <link rel="stylesheet" href="/styles.css"/>
  <script defer src="/js/app.js"></script>
  <style>
    /* Enhanced Dashboard Styles */
    .dashboard-grid { 
      display: grid; 
      gap: 20px; 
      grid-template-columns: 2fr 1fr; 
      margin-bottom: 20px;
    }
    
    @media (max-width: 1200px) { 
      .dashboard-grid { grid-template-columns: 1fr; } 
    }
    
    .metrics-grid {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      margin-bottom: 20px;
    }
    
    .metric-card {
      background: linear-gradient(135deg, var(--card) 0%, rgba(255,255,255,0.02) 100%);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      position: relative;
      overflow: hidden;
    }
    
    .metric-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), #a07aff);
    }
    
    .metric-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }
    
    .metric-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      background: rgba(var(--accent-rgb), 0.1);
      color: var(--accent);
    }
    
    .metric-trend {
      font-size: 12px;
      padding: 2px 8px;
      border-radius: 12px;
      font-weight: 600;
    }
    
    .trend-up {
      background: rgba(111, 227, 166, 0.2);
      color: #6fe3a6;
    }
    
    .trend-down {
      background: rgba(255, 107, 107, 0.2);
      color: #ff6b6b;
    }
    
    .trend-stable {
      background: rgba(255, 178, 79, 0.2);
      color: #ffb24f;
    }
    
    .metric-value {
      font-size: 32px;
      font-weight: 800;
      color: var(--text);
      margin-bottom: 4px;
      line-height: 1;
    }
    
    .metric-label {
      font-size: 14px;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 600;
    }
    
    .metric-subtitle {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }
    
    .alerts-panel {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .alert-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 8px;
      border-left: 4px solid;
    }
    
    .alert-critical {
      background: rgba(255, 107, 107, 0.1);
      border-left-color: #ff6b6b;
    }
    
    .alert-warning {
      background: rgba(255, 178, 79, 0.1);
      border-left-color: #ffb24f;
    }
    
    .alert-info {
      background: rgba(111, 227, 166, 0.1);
      border-left-color: #6fe3a6;
    }
    
    .alert-icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      color: white;
    }
    
    .alert-critical .alert-icon { background: #ff6b6b; }
    .alert-warning .alert-icon { background: #ffb24f; }
    .alert-info .alert-icon { background: #6fe3a6; }
    
    .alert-content {
      flex: 1;
    }
    
    .alert-title {
      font-weight: 600;
      color: var(--text);
      margin-bottom: 2px;
    }
    
    .alert-message {
      font-size: 12px;
      color: var(--text-muted);
    }
    
    .production-overview {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
    }
    
    .production-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 8px;
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid var(--border);
    }
    
    .production-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .production-status {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    
    .status-planned { background: #6b7280; }
    .status-in-progress { background: #ffb24f; }
    .status-completed { background: #6fe3a6; }
    .status-delayed { background: #ff6b6b; }
    
    .production-details {
      flex: 1;
    }
    
    .production-name {
      font-weight: 600;
      color: var(--text);
    }
    
    .production-meta {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 2px;
    }
    
    .production-quantity {
      font-weight: 600;
      color: var(--accent);
    }
    
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-bottom: 20px;
    }
    
    .quick-action {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 16px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      text-decoration: none;
      color: var(--text);
      transition: all 0.2s ease;
      cursor: pointer;
    }
    
    .quick-action:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      border-color: var(--accent);
    }
    
    .quick-action-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      background: rgba(var(--accent-rgb), 0.1);
      color: var(--accent);
    }
    
    .quick-action-content {
      flex: 1;
    }
    
    .quick-action-title {
      font-weight: 600;
      margin-bottom: 2px;
    }
    
    .quick-action-subtitle {
      font-size: 12px;
      color: var(--text-muted);
    }
    
    .chart-container {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
    }
    
    .chart-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 16px;
    }
    
    .chart-title {
      font-size: 18px;
      font-weight: 700;
      color: var(--text);
    }
    
    .chart-period {
      font-size: 12px;
      color: var(--text-muted);
      background: rgba(255, 255, 255, 0.05);
      padding: 4px 8px;
      border-radius: 6px;
    }
    
    .mini-chart {
      width: 100%;
      height: 120px;
      background: rgba(255, 255, 255, 0.02);
      border-radius: 8px;
      display: flex;
      align-items: end;
      padding: 8px;
      gap: 2px;
    }
    
    .chart-bar {
      flex: 1;
      background: linear-gradient(to top, var(--accent), rgba(var(--accent-rgb), 0.3));
      border-radius: 2px;
      min-height: 4px;
      transition: all 0.2s ease;
    }
    
    .chart-bar:hover {
      background: var(--accent);
      transform: scaleY(1.1);
    }
    
    .refresh-indicator {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(111, 227, 166, 0.9);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      z-index: 1000;
    }
    
    .refresh-indicator.show {
      opacity: 1;
      transform: translateY(0);
    }
    
    .loading-skeleton {
      background: linear-gradient(90deg, rgba(255,255,255,0.1) 25%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.1) 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
      border-radius: 4px;
      height: 20px;
    }
    
    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    
    .auto-refresh-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      color: var(--text-muted);
      margin-bottom: 20px;
    }
    
    .toggle-switch {
      position: relative;
      width: 40px;
      height: 20px;
      background: var(--border);
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    
    .toggle-switch.active {
      background: var(--accent);
    }
    
    .toggle-switch::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 16px;
      height: 16px;
      background: white;
      border-radius: 50%;
      transition: transform 0.3s ease;
    }
    
    .toggle-switch.active::after {
      transform: translateX(20px);
    }
  </style>
</head>
<body>

<header class="header">
  <nav class="nav">
    <div class="brand">üçû <strong>BUNCA</strong> Bakery - Automated Dashboard</div>
    <div class="menu-wrap">
      <button class="btn" onclick="location.href='/materials.html'">üì¶ Rohwaren</button>
      <button class="btn" onclick="location.href='/items.html'">üìã Rezepte</button>
      <button class="btn" onclick="location.href='/plan.html'">üìÖ Planung</button>
      <button class="btn" onclick="location.href='/tools.html'">üîß Tools</button>
      <button class="btn danger" onclick="logout()">Logout</button>
    </div>
  </nav>
</header>

<main class="container">
  <!-- Auto-refresh toggle -->
  <div class="auto-refresh-toggle">
    <span>Auto-Refresh:</span>
    <div class="toggle-switch active" id="autoRefreshToggle" onclick="toggleAutoRefresh()"></div>
    <span id="refreshStatus">Aktiv (30s)</span>
  </div>

  <!-- Key Metrics -->
  <div class="metrics-grid">
    <div class="metric-card">
      <div class="metric-header">
        <div class="metric-icon">üìä</div>
        <div class="metric-trend trend-up" id="efficiencyTrend">+12%</div>
      </div>
      <div class="metric-value" id="efficiencyScore">94%</div>
      <div class="metric-label">Produktionseffizienz</div>
      <div class="metric-subtitle">Letzte 7 Tage</div>
    </div>

    <div class="metric-card">
      <div class="metric-header">
        <div class="metric-icon">üí∞</div>
        <div class="metric-trend trend-down" id="costTrend">-8%</div>
      </div>
      <div class="metric-value" id="totalCosts">‚Ç¨2,847</div>
      <div class="metric-label">Produktionskosten</div>
      <div class="metric-subtitle">Diese Woche</div>
    </div>

    <div class="metric-card">
      <div class="metric-header">
        <div class="metric-icon">üì¶</div>
        <div class="metric-trend trend-warning" id="inventoryTrend">3 niedrig</div>
      </div>
      <div class="metric-value" id="inventoryStatus">87%</div>
      <div class="metric-label">Lagerbestand</div>
      <div class="metric-subtitle">Verf√ºgbarkeit</div>
    </div>

    <div class="metric-card">
      <div class="metric-header">
        <div class="metric-icon">‚úÖ</div>
        <div class="metric-trend trend-up" id="qualityTrend">+5%</div>
      </div>
      <div class="metric-value" id="qualityScore">98.2%</div>
      <div class="metric-label">Qualit√§tsscore</div>
      <div class="metric-subtitle">Letzte 30 Tage</div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <div class="quick-action" onclick="location.href='/plan.html'">
      <div class="quick-action-icon">üìÖ</div>
      <div class="quick-action-content">
        <div class="quick-action-title">Neue Produktion</div>
        <div class="quick-action-subtitle">Produktionsplan erstellen</div>
      </div>
    </div>

    <div class="quick-action" onclick="location.href='/materials.html'">
      <div class="quick-action-icon">üì¶</div>
      <div class="quick-action-content">
        <div class="quick-action-title">Lager pr√ºfen</div>
        <div class="quick-action-subtitle">Best√§nde verwalten</div>
      </div>
    </div>

    <div class="quick-action" onclick="showCostAnalysis()">
      <div class="quick-action-icon">üí∞</div>
      <div class="quick-action-content">
        <div class="quick-action-title">Kostenanalyse</div>
        <div class="quick-action-subtitle">Detaillierte Auswertung</div>
      </div>
    </div>

    <div class="quick-action" onclick="showQualityReport()">
      <div class="quick-action-icon">üîç</div>
      <div class="quick-action-content">
        <div class="quick-action-title">Qualit√§tsbericht</div>
        <div class="quick-action-subtitle">Qualit√§tskontrolle</div>
      </div>
    </div>
  </div>

  <!-- Main Dashboard Grid -->
  <div class="dashboard-grid">
    <!-- Production Overview -->
    <div class="production-overview">
      <div class="card-title-row">
        <h3>üè≠ Heutige Produktion</h3>
        <button class="btn" onclick="refreshProduction()">Aktualisieren</button>
      </div>
      
      <div id="productionList">
        <!-- Production items will be loaded here -->
        <div class="loading-skeleton"></div>
        <div class="loading-skeleton"></div>
        <div class="loading-skeleton"></div>
      </div>
    </div>

    <!-- Alerts & Notifications -->
    <div class="alerts-panel">
      <div class="card-title-row">
        <h3>üö® Benachrichtigungen</h3>
        <span class="chip" id="alertCount">3 aktiv</span>
      </div>
      
      <div id="alertsList">
        <!-- Alerts will be loaded here -->
        <div class="loading-skeleton"></div>
        <div class="loading-skeleton"></div>
      </div>
    </div>
  </div>

  <!-- Cost Trends Chart -->
  <div class="chart-container">
    <div class="chart-header">
      <h3 class="chart-title">üìà Kostentrends</h3>
      <div class="chart-period">Letzte 7 Tage</div>
    </div>
    
    <div class="mini-chart" id="costChart">
      <!-- Chart bars will be generated here -->
    </div>
  </div>

  <!-- Inventory Status -->
  <div class="chart-container">
    <div class="chart-header">
      <h3 class="chart-title">üì¶ Lagerbestand</h3>
      <button class="btn" onclick="location.href='/materials.html'">Details anzeigen</button>
    </div>
    
    <div id="inventoryOverview">
      <!-- Inventory items will be loaded here -->
      <div class="loading-skeleton"></div>
    </div>
  </div>
</main>

<!-- Refresh Indicator -->
<div class="refresh-indicator" id="refreshIndicator">
  Daten aktualisiert
</div>

<script>
// Enhanced Dashboard JavaScript with Real-time Updates
let autoRefreshEnabled = true;
let refreshInterval;
let dashboardData = {};

function logout() { 
  api('/api/logout', {method:'POST'}).then(() => location.href='/login.html'); 
}

// Initialize dashboard
(async function initDashboard() {
  try {
    const user = await sessionInfo();
    if (!user) {
      location.href = '/login.html';
      return;
    }
    
    await loadDashboardData();
    startAutoRefresh();
  } catch (e) {
    console.error('Dashboard initialization failed:', e);
    toast('Fehler beim Laden des Dashboards');
  }
})();

async function loadDashboardData() {
  try {
    showRefreshIndicator();
    
    // Load analytics data
    const analyticsResponse = await api('/api/analytics/dashboard');
    dashboardData.analytics = analyticsResponse;
    
    // Load today's production
    const today = new Date().toISOString().split('T')[0];
    const productionResponse = await api(`/api/plan?week_start=${today}`);
    dashboardData.production = productionResponse.data || [];
    
    // Load materials with low stock
    const materialsResponse = await api('/api/materials?low_stock=true');
    dashboardData.lowStockMaterials = materialsResponse.data || [];
    
    // Load all materials for inventory overview
    const allMaterialsResponse = await api('/api/materials');
    dashboardData.allMaterials = allMaterialsResponse.data || [];
    
    updateDashboardUI();
  } catch (error) {
    console.error('Failed to load dashboard data:', error);
    toast('Fehler beim Laden der Dashboard-Daten');
  }
}

function updateDashboardUI() {
  updateMetrics();
  updateProductionList();
  updateAlerts();
  updateCostChart();
  updateInventoryOverview();
}

function updateMetrics() {
  const analytics = dashboardData.analytics;
  
  if (analytics.production) {
    const efficiency = analytics.production.completed && analytics.production.total_planned > 0 
      ? (analytics.production.completed / analytics.production.total_planned * 100).toFixed(0)
      : 0;
    $$('#efficiencyScore').textContent = `${efficiency}%`;
  }
  
  if (analytics.production && analytics.production.total_production_cost) {
    $$('#totalCosts').textContent = `‚Ç¨${parseFloat(analytics.production.total_production_cost).toLocaleString('de-DE')}`;
  }
  
  // Update inventory status
  const totalMaterials = dashboardData.allMaterials.length;
  const lowStockCount = dashboardData.lowStockMaterials.length;
  const inventoryHealth = totalMaterials > 0 ? ((totalMaterials - lowStockCount) / totalMaterials * 100).toFixed(0) : 100;
  $$('#inventoryStatus').textContent = `${inventoryHealth}%`;
  
  if (lowStockCount > 0) {
    $$('#inventoryTrend').textContent = `${lowStockCount} niedrig`;
    $$('#inventoryTrend').className = 'metric-trend trend-warning';
  } else {
    $$('#inventoryTrend').textContent = 'Optimal';
    $$('#inventoryTrend').className = 'metric-trend trend-up';
  }
  
  // Update quality score
  if (analytics.quality) {
    const qualityPercentage = analytics.quality.total_checks > 0 
      ? (analytics.quality.passed_checks / analytics.quality.total_checks * 100).toFixed(1)
      : 100;
    $$('#qualityScore').textContent = `${qualityPercentage}%`;
  }
}

function updateProductionList() {
  const productionList = $$('#productionList');
  const todayProduction = dashboardData.production.filter(p => {
    const today = new Date().toISOString().split('T')[0];
    return p.day === today;
  });
  
  if (todayProduction.length === 0) {
    productionList.innerHTML = `
      <div style="text-align: center; padding: 40px; color: var(--text-muted);">
        <div style="font-size: 48px; margin-bottom: 16px;">üìÖ</div>
        <div>Keine Produktion f√ºr heute geplant</div>
        <button class="btn primary" onclick="location.href='/plan.html'" style="margin-top: 12px;">
          Produktion planen
        </button>
      </div>
    `;
    return;
  }
  
  productionList.innerHTML = todayProduction.map(item => `
    <div class="production-item">
      <div class="production-info">
        <div class="production-status status-${item.status || 'planned'}"></div>
        <div class="production-details">
          <div class="production-name">${item.product_code}</div>
          <div class="production-meta">
            ${item.product_name || ''} ‚Ä¢ ${item.start_time || 'Zeit TBD'}
            ${item.shop ? ` ‚Ä¢ ${item.shop}` : ''}
          </div>
        </div>
      </div>
      <div class="production-quantity">${item.qty} ${item.yield_unit || 'St√ºck'}</div>
    </div>
  `).join('');
}

function updateAlerts() {
  const alertsList = $$('#alertsList');
  const alerts = [];
  
  // Low stock alerts
  dashboardData.lowStockMaterials.forEach(material => {
    alerts.push({
      type: 'warning',
      icon: 'üì¶',
      title: 'Niedriger Lagerbestand',
      message: `${material.name}: ${material.current_stock} ${material.base_unit} (Min: ${material.min_stock})`
    });
  });
  
  // Production alerts
  const inProgressProduction = dashboardData.production.filter(p => p.status === 'in_progress');
  if (inProgressProduction.length > 0) {
    alerts.push({
      type: 'info',
      icon: 'üè≠',
      title: 'Produktion l√§uft',
      message: `${inProgressProduction.length} Produktionsauftr√§ge in Bearbeitung`
    });
  }
  
  // Quality alerts
  const analytics = dashboardData.analytics;
  if (analytics.quality && analytics.quality.total_checks > 0) {
    const failedChecks = analytics.quality.total_checks - analytics.quality.passed_checks;
    if (failedChecks > 0) {
      alerts.push({
        type: 'critical',
        icon: '‚ö†Ô∏è',
        title: 'Qualit√§tsprobleme',
        message: `${failedChecks} fehlgeschlagene Qualit√§tskontrollen`
      });
    }
  }
  
  // Update alert count
  $$('#alertCount').textContent = `${alerts.length} aktiv`;
  
  if (alerts.length === 0) {
    alertsList.innerHTML = `
      <div style="text-align: center; padding: 40px; color: var(--text-muted);">
        <div style="font-size: 48px; margin-bottom: 16px;">‚úÖ</div>
        <div>Keine aktiven Benachrichtigungen</div>
        <div style="font-size: 12px; margin-top: 8px;">Alle Systeme funktionieren normal</div>
      </div>
    `;
    return;
  }
  
  alertsList.innerHTML = alerts.map(alert => `
    <div class="alert-item alert-${alert.type}">
      <div class="alert-icon">${alert.icon}</div>
      <div class="alert-content">
        <div class="alert-title">${alert.title}</div>
        <div class="alert-message">${alert.message}</div>
      </div>
    </div>
  `).join('');
}

function updateCostChart() {
  const costChart = $$('#costChart');
  const analytics = dashboardData.analytics;
  
  if (!analytics.cost_trends || analytics.cost_trends.length === 0) {
    costChart.innerHTML = `
      <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: var(--text-muted);">
        Keine Kostendaten verf√ºgbar
      </div>
    `;
    return;
  }
  
  const maxCost = Math.max(...analytics.cost_trends.map(d => parseFloat(d.daily_total_cost || 0)));
  
  costChart.innerHTML = analytics.cost_trends.map(day => {
    const cost = parseFloat(day.daily_total_cost || 0);
    const height = maxCost > 0 ? (cost / maxCost * 100) : 10;
    return `<div class="chart-bar" style="height: ${height}%" title="${day.calculation_date}: ‚Ç¨${cost.toFixed(2)}"></div>`;
  }).join('');
}

function updateInventoryOverview() {
  const inventoryOverview = $$('#inventoryOverview');
  const materials = dashboardData.allMaterials.slice(0, 10); // Show top 10
  
  if (materials.length === 0) {
    inventoryOverview.innerHTML = `
      <div style="text-align: center; padding: 40px; color: var(--text-muted);">
        Keine Materialien gefunden
      </div>
    `;
    return;
  }
  
  inventoryOverview.innerHTML = materials.map(material => {
    const stockPercentage = material.min_stock > 0 ? (material.current_stock / material.min_stock * 100) : 100;
    const statusColor = stockPercentage <= 100 ? '#ff6b6b' : stockPercentage <= 150 ? '#ffb24f' : '#6fe3a6';
    
    return `
      <div class="production-item">
        <div class="production-info">
          <div class="production-status" style="background: ${statusColor};"></div>
          <div class="production-details">
            <div class="production-name">${material.name}</div>
            <div class="production-meta">${material.code} ‚Ä¢ ${material.base_unit}</div>
          </div>
        </div>
        <div class="production-quantity">${material.current_stock} ${material.base_unit}</div>
      </div>
    `;
  }).join('');
}

function startAutoRefresh() {
  if (refreshInterval) clearInterval(refreshInterval);
  
  if (autoRefreshEnabled) {
    refreshInterval = setInterval(async () => {
      await loadDashboardData();
    }, 30000); // Refresh every 30 seconds
  }
}

function toggleAutoRefresh() {
  autoRefreshEnabled = !autoRefreshEnabled;
  const toggle = $$('#autoRefreshToggle');
  const status = $$('#refreshStatus');
  
  if (autoRefreshEnabled) {
    toggle.classList.add('active');
    status.textContent = 'Aktiv (30s)';
    startAutoRefresh();
  } else {
    toggle.classList.remove('active');
    status.textContent = 'Deaktiviert';
    if (refreshInterval) clearInterval(refreshInterval);
  }
}

function showRefreshIndicator() {
  const indicator = $$('#refreshIndicator');
  indicator.classList.add('show');
  setTimeout(() => {
    indicator.classList.remove('show');
  }, 2000);
}

async function refreshProduction() {
  await loadDashboardData();
  toast('Produktionsdaten aktualisiert');
}

function showCostAnalysis() {
  // This would open a detailed cost analysis modal or page
  toast('Kostenanalyse wird ge√∂ffnet...');
  // For now, just redirect to tools
  location.href = '/tools.html';
}

function showQualityReport() {
  // This would open a detailed quality report modal or page
  toast('Qualit√§tsbericht wird ge√∂ffnet...');
  // For now, just show a message
  alert('Qualit√§tsbericht-Feature wird in einer zuk√ºnftigen Version verf√ºgbar sein.');
}

// Utility function to get element by ID
function $$(selector) {
  return document.querySelector(selector);
}
</script>

</body>
</html>
