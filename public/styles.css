:root{
  --bg:#f6efe6;          /* latte foam */
  --card:#fff8ee;        /* light cream */
  --ink:#2a221c;         /* espresso */
  --muted:#a69382;       /* soft label */
  --accent:#8b6a4a;      /* latte art brown */
  --accent-2:#c8a689;    /* milk caramel */
  --line:#eadfcc;
  --success:#2e7d32;
  --warn:#99621e;
  --danger:#8b2f2f;
  --radius:16px;
  --shadow:0 8px 24px rgba(0,0,0,.06);
  --shadow-sm:0 4px 12px rgba(0,0,0,.05);
  --ring:0 0 0 3px rgba(139,106,74,.18);
  --speed:160ms;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  background:var(--bg);
  color:var(--ink);
}

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:20;
  display:flex; align-items:center; gap:12px;
  height:56px; padding:0 12px 0 6px;
  background:linear-gradient(0deg,var(--bg),#fff8f2);
  border-bottom:1px solid var(--line);
  backdrop-filter:saturate(1.1) blur(4px);
}
.topbar .title{flex:1; text-align:center; font-weight:600; letter-spacing:.2px}
.iconbtn{
  display:inline-grid; place-items:center;
  width:40px; height:40px; border-radius:12px; border:1px solid var(--line);
  background:var(--card); box-shadow:var(--shadow-sm); transition:transform var(--speed), background var(--speed);
}
.iconbtn:hover{transform:translateY(-1px)}
.iconbtn svg{width:20px; height:20px; stroke:var(--ink); stroke-width:1.8; fill:none; stroke-linecap:round; stroke-linejoin:round}
.status-area{display:flex; align-items:center; gap:8px}
.badge{
  display:inline-flex; align-items:center; gap:6px;
  height:24px; padding:0 8px; border-radius:999px;
  border:1px solid var(--line); background:var(--card); color:var(--muted); font-size:12px;
}
.dot{width:10px; height:10px; border-radius:50%}
.dot-ok{background:var(--success)}
.dot-warn{background:var(--warn)}
.dot-bad{background:var(--danger)}

/* Drawer */
.drawer{
  position:fixed; top:0; left:0; height:100dvh; width:320px;
  background:var(--card); border-right:1px solid var(--line);
  box-shadow:var(--shadow); transform:translateX(-100%); transition:transform 240ms ease;
  z-index:30; display:flex; flex-direction:column;
}
.drawer.open{transform:none}
.drawer-header{
  display:flex; align-items:center; justify-content:space-between; padding:14px 12px; border-bottom:1px solid var(--line);
}
.brand{display:flex; align-items:center; gap:10px; font-weight:700}
.logo svg{width:28px; height:28px; stroke:var(--accent); fill:var(--accent-2); stroke-width:1.4}
.drawer-nav{display:flex; flex-direction:column; padding:8px}
.navlink{
  display:flex; align-items:center; gap:12px; padding:10px 12px; border-radius:12px;
  color:var(--ink); text-decoration:none; border:1px solid transparent;
}
.navlink:hover{background:#fff;border-color:var(--line); box-shadow:var(--shadow-sm)}
.navlink svg{width:20px; height:20px; stroke:var(--ink); stroke-width:1.7; fill:none; stroke-linecap:round; stroke-linejoin:round}
.navlink.danger svg{stroke:var(--danger)} .navlink.danger{color:var(--danger)}
.drawer-actions{padding:12px; display:grid; gap:8px}
.drawer-footer{margin-top:auto; border-top:1px solid var(--line); padding:8px}

/* Shade */
.shade{
  position:fixed; inset:0; background:rgba(0,0,0,.28);
  opacity:0; pointer-events:none; transition:opacity 240ms ease; z-index:25;
}
.shade.show{opacity:1; pointer-events:auto}

/* Main container */
.container{max-width:1100px; margin:20px auto; padding:0 16px}

/* Buttons */
.btn{
  display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px;
  border:1px solid var(--accent); background:var(--accent); color:white; font-weight:600; box-shadow:var(--shadow-sm);
  transition:transform var(--speed), box-shadow var(--speed), opacity var(--speed);
}
.btn svg{width:18px; height:18px; stroke:white; stroke-width:1.8; fill:none}
.btn:hover{transform:translateY(-1px)}
.btn:disabled{opacity:.6; pointer-events:none}
.btn.outline{background:transparent; color:var(--accent); border-color:var(--accent)}
.btn.ghost{background:transparent; border-color:var(--line); color:var(--ink)}
.btn.small{padding:8px 12px; font-size:14px}
.btn.danger{background:var(--danger); border-color:var(--danger)}
.btn.warn{background:var(--warn); border-color:var(--warn)}

/* Inputs */
.input, .select{
  width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:12px; background:#fff;
  outline:none; transition:border var(--speed), box-shadow var(--speed);
}
.input:focus, .select:focus{box-shadow:var(--ring); border-color:var(--accent)}
.input[type="number"]{appearance:textfield}
.input::-webkit-outer-spin-button, .input::-webkit-inner-spin-button{appearance:none;margin:0}
.field{display:grid; gap:6px}
.field label{font-size:12px; color:var(--muted)}

/* Pills / Chips */
.pill{
  display:inline-flex; align-items:center; padding:2px 8px; border-radius:999px; border:1px solid var(--line); background:#fff; font-size:12px; color:var(--muted);
}
.pill.success{border-color:rgba(46,125,50,.25); color:var(--success)}
.pill.warn{border-color:rgba(153,98,30,.25); color:var(--warn)}
.pill.danger{border-color:rgba(139,47,47,.25); color:var(--danger)}

/* Cards */
.card{
  background:var(--card); border:1px solid var(--line);
  border-radius:var(--radius); box-shadow:var(--shadow); padding:14px;
}
.grid{display:grid; gap:12px}
.grid.cols-2{grid-template-columns:1fr 1fr}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){.grid.cols-2,.grid.cols-3{grid-template-columns:1fr}}

/* Tables -> compact, wrap-friendly */
.table-wrap{overflow:auto}
.table{
  width:100%; border-collapse:separate; border-spacing:0;
}
.table thead th{
  position:sticky; top:0; background:#fff; z-index:1; font-size:12px; text-align:left; color:var(--muted);
  border-bottom:1px solid var(--line); padding:8px 10px;
}
.table tbody td{
  border-bottom:1px solid var(--line); padding:10px; vertical-align:top;
}
.table .actions{display:flex; gap:6px; flex-wrap:wrap}

/* “Wrapped” rows – clamp long text */
.clamp-1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}
.clamp-2{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}

/* Section header */
.section{
  display:flex; align-items:center; justify-content:space-between; gap:12px; margin:12px 0;
}
.section h2{margin:0; font-size:18px}

/* Toolbars */
.toolbar{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
.toolbar .spacer{flex:1}

/* Modal */
.modal-host{position:fixed; inset:0; display:none; align-items:flex-end; justify-content:center; z-index:50}
.modal-host.show{display:flex}
.modal-shade{position:absolute; inset:0; background:rgba(0,0,0,.35); opacity:0; animation:fadeIn 220ms forwards}
.modal{
  position:relative; width:min(680px, calc(100% - 24px));
  background:#fff; border:1px solid var(--line); border-radius:20px 20px 12px 12px; box-shadow:var(--shadow);
  margin-bottom:12px; transform:translateY(20px); animation:slideUp 220ms forwards;
}
.modal-header{padding:14px 16px; border-bottom:1px solid var(--line); display:flex; align-items:center; justify-content:space-between}
.modal-body{padding:14px 16px}
.modal-footer{padding:12px 16px; display:flex; gap:8px; justify-content:flex-end; border-top:1px solid var(--line)}
@keyframes slideUp{to{transform:none; opacity:1}} @keyframes fadeIn{to{opacity:1}}

/* Toasts */
.toasts{position:fixed; right:12px; bottom:12px; display:grid; gap:8px; z-index:60}
.toast{background:#fff; border:1px solid var(--line); border-left:6px solid var(--accent); padding:10px 12px; border-radius:12px; box-shadow:var(--shadow-sm)}
.toast.error{border-left-color:var(--danger)} .toast.warn{border-left-color:var(--warn)} .toast.ok{border-left-color:var(--success)}

/* Helpers */
.mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; font-size:12px}
.muted{color:var(--muted)}
.hidden{display:none}
hr.soft{border:0; border-top:1px solid var(--line); margin:10px 0}
